{"ast":null,"code":"var Document, Editor, Line, Renderer, Selection, dom, _;\n_ = require('lodash');\ndom = require('../lib/dom');\nDocument = require('./document');\nLine = require('./line');\nRenderer = require('./renderer');\nSelection = require('./selection');\nEditor = function () {\n  Editor.sources = {\n    API: 'api',\n    SILENT: 'silent',\n    USER: 'user'\n  };\n  function Editor(iframeContainer, quill, options) {\n    this.iframeContainer = iframeContainer;\n    this.quill = quill;\n    this.options = options != null ? options : {};\n    this.renderer = new Renderer(this.iframeContainer, this.options);\n    dom(this.iframeContainer).on('focus', this.focus.bind(this));\n    this.root = this.renderer.root;\n    this.doc = new Document(this.root, this.options);\n    this.delta = this.doc.toDelta();\n    this.selection = new Selection(this.doc, this.renderer.iframe, this.quill);\n    this.timer = setInterval(_.bind(this.checkUpdate, this), this.options.pollInterval);\n    if (!this.options.readOnly) {\n      this.enable();\n    }\n  }\n  Editor.prototype.disable = function () {\n    return this.enable(false);\n  };\n  Editor.prototype.enable = function (enabled) {\n    if (enabled == null) {\n      enabled = true;\n    }\n    return this.root.setAttribute('contenteditable', enabled);\n  };\n  Editor.prototype.applyDelta = function (delta, source) {\n    var localDelta;\n    localDelta = this._update();\n    if (localDelta) {\n      delta = localDelta.transform(delta, true);\n      localDelta = delta.transform(localDelta, false);\n    }\n    if (delta.ops.length > 0) {\n      delta = this._trackDelta(function (_this) {\n        return function () {\n          var index;\n          index = 0;\n          _.each(delta.ops, function (op) {\n            if (_.isString(op.insert)) {\n              _this._insertAt(index, op.insert, op.attributes);\n              return index += op.insert.length;\n            } else if (_.isNumber(op.insert)) {\n              _this._insertAt(index, dom.EMBED_TEXT, op.attributes);\n              return index += 1;\n            } else if (_.isNumber(op[\"delete\"])) {\n              return _this._deleteAt(index, op[\"delete\"]);\n            } else if (_.isNumber(op.retain)) {\n              _.each(op.attributes, function (value, name) {\n                return _this._formatAt(index, op.retain, name, value);\n              });\n              return index += op.retain;\n            }\n          });\n          return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n        };\n      }(this));\n      this.delta = this.doc.toDelta();\n      this.innerHTML = this.root.innerHTML;\n      if (delta && source !== Editor.sources.SILENT) {\n        this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n      }\n    }\n    if (localDelta && localDelta.ops.length > 0 && source !== Editor.sources.SILENT) {\n      return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, localDelta, Editor.sources.USER);\n    }\n  };\n  Editor.prototype.checkUpdate = function (source) {\n    var delta;\n    if (source == null) {\n      source = 'user';\n    }\n    if (this.renderer.iframe.parentNode == null || this.root.parentNode == null) {\n      return clearInterval(this.timer);\n    }\n    delta = this._update();\n    if (delta) {\n      this.delta.compose(delta);\n      this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n    }\n    if (delta) {\n      source = Editor.sources.SILENT;\n    }\n    return this.selection.update(source);\n  };\n  Editor.prototype.focus = function () {\n    if (dom.isIE(11)) {\n      this.selection.setRange(this.selection.range);\n    }\n    if (dom.isIOS()) {\n      this.renderer.iframe.focus();\n    }\n    return this.root.focus();\n  };\n  Editor.prototype.getDelta = function () {\n    return this.delta;\n  };\n  Editor.prototype._deleteAt = function (index, length) {\n    if (length <= 0) {\n      return;\n    }\n    return this.selection.shiftAfter(index, -1 * length, function (_this) {\n      return function () {\n        var curLine, deleteLength, firstLine, mergeFirstLine, nextLine, offset, _ref;\n        _ref = _this.doc.findLineAt(index), firstLine = _ref[0], offset = _ref[1];\n        curLine = firstLine;\n        mergeFirstLine = firstLine.length - offset <= length && offset > 0;\n        while (curLine != null && length > 0) {\n          nextLine = curLine.next;\n          deleteLength = Math.min(curLine.length - offset, length);\n          if (offset === 0 && length >= curLine.length) {\n            _this.doc.removeLine(curLine);\n          } else {\n            curLine.deleteText(offset, deleteLength);\n          }\n          length -= deleteLength;\n          curLine = nextLine;\n          offset = 0;\n        }\n        if (mergeFirstLine && firstLine.next) {\n          return _this.doc.mergeLines(firstLine, firstLine.next);\n        }\n      };\n    }(this));\n  };\n  Editor.prototype._formatAt = function (index, length, name, value) {\n    return this.selection.shiftAfter(index, 0, function (_this) {\n      return function () {\n        var formatLength, line, offset, _ref, _results;\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        _results = [];\n        while (line != null && length > 0) {\n          formatLength = Math.min(length, line.length - offset - 1);\n          line.formatText(offset, formatLength, name, value);\n          length -= formatLength;\n          if (length > 0) {\n            line.format(name, value);\n          }\n          length -= 1;\n          offset = 0;\n          _results.push(line = line.next);\n        }\n        return _results;\n      };\n    }(this));\n  };\n  Editor.prototype._insertAt = function (index, text, formatting) {\n    if (formatting == null) {\n      formatting = {};\n    }\n    return this.selection.shiftAfter(index, text.length, function (_this) {\n      return function () {\n        var line, lineTexts, offset, _ref;\n        text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        lineTexts = text.split('\\n');\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        return _.each(lineTexts, function (lineText, i) {\n          var nextLine;\n          if (line == null || line.length <= offset) {\n            if (i < lineTexts.length - 1 || lineText.length > 0) {\n              line = _this.doc.appendLine(_this.root.ownerDocument.createElement(dom.DEFAULT_BLOCK_TAG));\n              offset = 0;\n              line.insertText(offset, lineText, formatting);\n              line.format(formatting);\n              nextLine = null;\n            }\n          } else {\n            line.insertText(offset, lineText, formatting);\n            if (i < lineTexts.length - 1) {\n              nextLine = _this.doc.splitLine(line, offset + lineText.length);\n              _.each(_.defaults({}, formatting, line.formats), function (value, format) {\n                return line.format(format, formatting[format]);\n              });\n              offset = 0;\n            }\n          }\n          return line = nextLine;\n        });\n      };\n    }(this));\n  };\n  Editor.prototype._trackDelta = function (fn) {\n    var delta, newDelta;\n    fn();\n    newDelta = this.doc.toDelta();\n    delta = this.delta.diff(newDelta);\n    return delta;\n  };\n  Editor.prototype._update = function () {\n    var delta;\n    if (this.innerHTML === this.root.innerHTML) {\n      return false;\n    }\n    delta = this._trackDelta(function (_this) {\n      return function () {\n        _this.selection.preserve(_.bind(_this.doc.rebuild, _this.doc));\n        return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n      };\n    }(this));\n    this.innerHTML = this.root.innerHTML;\n    if (delta.ops.length > 0) {\n      return delta;\n    } else {\n      return false;\n    }\n  };\n  return Editor;\n}();\nmodule.exports = Editor;","map":{"version":3,"names":["Document","Editor","Line","Renderer","Selection","dom","_","require","sources","API","SILENT","USER","iframeContainer","quill","options","renderer","on","focus","bind","root","doc","delta","toDelta","selection","iframe","timer","setInterval","checkUpdate","pollInterval","readOnly","enable","prototype","disable","enabled","setAttribute","applyDelta","source","localDelta","_update","transform","ops","length","_trackDelta","_this","index","each","op","isString","insert","_insertAt","attributes","isNumber","EMBED_TEXT","_deleteAt","retain","value","name","_formatAt","shiftAfter","optimizeLines","innerHTML","emit","constructor","events","TEXT_CHANGE","parentNode","clearInterval","compose","update","isIE","setRange","range","isIOS","getDelta","curLine","deleteLength","firstLine","mergeFirstLine","nextLine","offset","_ref","findLineAt","next","Math","min","removeLine","deleteText","mergeLines","formatLength","line","_results","formatText","format","push","text","formatting","lineTexts","replace","split","lineText","i","appendLine","ownerDocument","createElement","DEFAULT_BLOCK_TAG","insertText","splitLine","defaults","formats","fn","newDelta","diff","preserve","rebuild","module","exports"],"sources":["/home/tpss/public_html/Mernstack/authtask/frontend/node_modules/quilljs/lib/core/editor.js"],"sourcesContent":["var Document, Editor, Line, Renderer, Selection, dom, _;\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nDocument = require('./document');\n\nLine = require('./line');\n\nRenderer = require('./renderer');\n\nSelection = require('./selection');\n\nEditor = (function() {\n  Editor.sources = {\n    API: 'api',\n    SILENT: 'silent',\n    USER: 'user'\n  };\n\n  function Editor(iframeContainer, quill, options) {\n    this.iframeContainer = iframeContainer;\n    this.quill = quill;\n    this.options = options != null ? options : {};\n    this.renderer = new Renderer(this.iframeContainer, this.options);\n    dom(this.iframeContainer).on('focus', this.focus.bind(this));\n    this.root = this.renderer.root;\n    this.doc = new Document(this.root, this.options);\n    this.delta = this.doc.toDelta();\n    this.selection = new Selection(this.doc, this.renderer.iframe, this.quill);\n    this.timer = setInterval(_.bind(this.checkUpdate, this), this.options.pollInterval);\n    if (!this.options.readOnly) {\n      this.enable();\n    }\n  }\n\n  Editor.prototype.disable = function() {\n    return this.enable(false);\n  };\n\n  Editor.prototype.enable = function(enabled) {\n    if (enabled == null) {\n      enabled = true;\n    }\n    return this.root.setAttribute('contenteditable', enabled);\n  };\n\n  Editor.prototype.applyDelta = function(delta, source) {\n    var localDelta;\n    localDelta = this._update();\n    if (localDelta) {\n      delta = localDelta.transform(delta, true);\n      localDelta = delta.transform(localDelta, false);\n    }\n    if (delta.ops.length > 0) {\n      delta = this._trackDelta((function(_this) {\n        return function() {\n          var index;\n          index = 0;\n          _.each(delta.ops, function(op) {\n            if (_.isString(op.insert)) {\n              _this._insertAt(index, op.insert, op.attributes);\n              return index += op.insert.length;\n            } else if (_.isNumber(op.insert)) {\n              _this._insertAt(index, dom.EMBED_TEXT, op.attributes);\n              return index += 1;\n            } else if (_.isNumber(op[\"delete\"])) {\n              return _this._deleteAt(index, op[\"delete\"]);\n            } else if (_.isNumber(op.retain)) {\n              _.each(op.attributes, function(value, name) {\n                return _this._formatAt(index, op.retain, name, value);\n              });\n              return index += op.retain;\n            }\n          });\n          return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n        };\n      })(this));\n      this.delta = this.doc.toDelta();\n      this.innerHTML = this.root.innerHTML;\n      if (delta && source !== Editor.sources.SILENT) {\n        this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n      }\n    }\n    if (localDelta && localDelta.ops.length > 0 && source !== Editor.sources.SILENT) {\n      return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, localDelta, Editor.sources.USER);\n    }\n  };\n\n  Editor.prototype.checkUpdate = function(source) {\n    var delta;\n    if (source == null) {\n      source = 'user';\n    }\n    if ((this.renderer.iframe.parentNode == null) || (this.root.parentNode == null)) {\n      return clearInterval(this.timer);\n    }\n    delta = this._update();\n    if (delta) {\n      this.delta.compose(delta);\n      this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n    }\n    if (delta) {\n      source = Editor.sources.SILENT;\n    }\n    return this.selection.update(source);\n  };\n\n  Editor.prototype.focus = function() {\n    if (dom.isIE(11)) {\n      this.selection.setRange(this.selection.range);\n    }\n    if (dom.isIOS()) {\n      this.renderer.iframe.focus();\n    }\n    return this.root.focus();\n  };\n\n  Editor.prototype.getDelta = function() {\n    return this.delta;\n  };\n\n  Editor.prototype._deleteAt = function(index, length) {\n    if (length <= 0) {\n      return;\n    }\n    return this.selection.shiftAfter(index, -1 * length, (function(_this) {\n      return function() {\n        var curLine, deleteLength, firstLine, mergeFirstLine, nextLine, offset, _ref;\n        _ref = _this.doc.findLineAt(index), firstLine = _ref[0], offset = _ref[1];\n        curLine = firstLine;\n        mergeFirstLine = firstLine.length - offset <= length && offset > 0;\n        while ((curLine != null) && length > 0) {\n          nextLine = curLine.next;\n          deleteLength = Math.min(curLine.length - offset, length);\n          if (offset === 0 && length >= curLine.length) {\n            _this.doc.removeLine(curLine);\n          } else {\n            curLine.deleteText(offset, deleteLength);\n          }\n          length -= deleteLength;\n          curLine = nextLine;\n          offset = 0;\n        }\n        if (mergeFirstLine && firstLine.next) {\n          return _this.doc.mergeLines(firstLine, firstLine.next);\n        }\n      };\n    })(this));\n  };\n\n  Editor.prototype._formatAt = function(index, length, name, value) {\n    return this.selection.shiftAfter(index, 0, (function(_this) {\n      return function() {\n        var formatLength, line, offset, _ref, _results;\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        _results = [];\n        while ((line != null) && length > 0) {\n          formatLength = Math.min(length, line.length - offset - 1);\n          line.formatText(offset, formatLength, name, value);\n          length -= formatLength;\n          if (length > 0) {\n            line.format(name, value);\n          }\n          length -= 1;\n          offset = 0;\n          _results.push(line = line.next);\n        }\n        return _results;\n      };\n    })(this));\n  };\n\n  Editor.prototype._insertAt = function(index, text, formatting) {\n    if (formatting == null) {\n      formatting = {};\n    }\n    return this.selection.shiftAfter(index, text.length, (function(_this) {\n      return function() {\n        var line, lineTexts, offset, _ref;\n        text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        lineTexts = text.split('\\n');\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        return _.each(lineTexts, function(lineText, i) {\n          var nextLine;\n          if ((line == null) || line.length <= offset) {\n            if (i < lineTexts.length - 1 || lineText.length > 0) {\n              line = _this.doc.appendLine(_this.root.ownerDocument.createElement(dom.DEFAULT_BLOCK_TAG));\n              offset = 0;\n              line.insertText(offset, lineText, formatting);\n              line.format(formatting);\n              nextLine = null;\n            }\n          } else {\n            line.insertText(offset, lineText, formatting);\n            if (i < lineTexts.length - 1) {\n              nextLine = _this.doc.splitLine(line, offset + lineText.length);\n              _.each(_.defaults({}, formatting, line.formats), function(value, format) {\n                return line.format(format, formatting[format]);\n              });\n              offset = 0;\n            }\n          }\n          return line = nextLine;\n        });\n      };\n    })(this));\n  };\n\n  Editor.prototype._trackDelta = function(fn) {\n    var delta, newDelta;\n    fn();\n    newDelta = this.doc.toDelta();\n    delta = this.delta.diff(newDelta);\n    return delta;\n  };\n\n  Editor.prototype._update = function() {\n    var delta;\n    if (this.innerHTML === this.root.innerHTML) {\n      return false;\n    }\n    delta = this._trackDelta((function(_this) {\n      return function() {\n        _this.selection.preserve(_.bind(_this.doc.rebuild, _this.doc));\n        return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n      };\n    })(this));\n    this.innerHTML = this.root.innerHTML;\n    if (delta.ops.length > 0) {\n      return delta;\n    } else {\n      return false;\n    }\n  };\n\n  return Editor;\n\n})();\n\nmodule.exports = Editor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}