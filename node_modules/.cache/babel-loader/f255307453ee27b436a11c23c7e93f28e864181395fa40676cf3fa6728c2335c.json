{"ast":null,"code":"import'../assets/signup.css';import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const[name,setName]=useState(\"\");const[username,setUser]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[gender,setGender]=useState(\"\");const[error,setError]=useState(\"\");const[profile,setProfile]=useState(null);const[success,setSuccess]=useState(false);const navigate=useNavigate();const handleImageChange=e=>{setProfile(e.target.files[0]);};const SignUpForm=async e=>{e.preventDefault();if(!username){setError(\"Username is required.\");return;}if(!gender){setError(\"Gender is required.\");return;}if(!/\\S+@\\S+\\.\\S+/.test(email)){setError(\"Please enter a valid email.\");return;}if(password.length<6){setError(\"Password must be at least 6 characters.\");return;}setError(\"\");const formData=new FormData();formData.append(\"name\",name);formData.append(\"username\",username);formData.append(\"gender\",gender);formData.append(\"email\",email);formData.append(\"password\",password);if(profile){formData.append(\"profile\",profile);}let result=await fetch(\"http://localhost:8002/api/register\",{method:\"POST\",body:formData});result=await result.json();if(result){setSuccess(true);setTimeout(()=>{navigate('/login');},50);}};return/*#__PURE__*/_jsx(\"div\",{className:\"outer-signup-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-sign-up\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:\"Registration successful! Redirecting to login...\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"main-input-box\",onSubmit:SignUpForm,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputBox\",value:name,onChange:e=>setName(e.target.value),placeholder:\"Enter Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputBox\",value:username,onChange:e=>setUser(e.target.value),placeholder:\"Enter Username\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputBox\",value:gender,onChange:e=>setGender(e.target.value),placeholder:\"Enter Gender\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"inputBox\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter Email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange,accept:\"image/*\",placeholder:\"Upload Profile Image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"inputBox\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter Password\",required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"Sign-up-btn btn\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})});};export default SignUp;","map":{"version":3,"names":["React","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","SignUp","name","setName","username","setUser","email","setEmail","password","setPassword","gender","setGender","error","setError","profile","setProfile","success","setSuccess","navigate","handleImageChange","e","target","files","SignUpForm","preventDefault","test","length","formData","FormData","append","result","fetch","method","body","json","setTimeout","className","children","onSubmit","encType","type","value","onChange","placeholder","required","accept","to"],"sources":["/home/tpss/public_html/Mernstack/authtask/frontend/src/components/SignUp.jsx"],"sourcesContent":["import '../assets/signup.css';\nimport React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nconst SignUp = () => {\n  const [name, setName] = useState(\"\");\n  const [username, setUser] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [profile, setProfile] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const navigate = useNavigate();\n\n  const handleImageChange = (e) => {\n    setProfile(e.target.files[0]);\n  };\n\n  const SignUpForm = async (e) => {\n    e.preventDefault();\n\n    if (!username) {\n      setError(\"Username is required.\");\n      return;\n    }\n    if (!gender) {\n      setError(\"Gender is required.\");\n      return;\n    }\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      setError(\"Please enter a valid email.\");\n      return;\n    }\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters.\");\n      return;\n    }\n    setError(\"\");\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"username\", username);\n    formData.append(\"gender\", gender);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    if (profile) {\n      formData.append(\"profile\", profile);\n    }\n\n    let result = await fetch(\"http://localhost:8002/api/register\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    result = await result.json();\n    if (result) {\n      setSuccess(true);\n      setTimeout(() => {\n        navigate('/login');\n      }, 50);\n    }\n  };\n\n  return (\n    <div className='outer-signup-form'>\n      <div className=\"custom-sign-up\">\n        <h2>Sign Up</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        {success && <div className=\"success-message\">Registration successful! Redirecting to login...</div>}\n        <form className=\"main-input-box\" onSubmit={SignUpForm} encType=\"multipart/form-data\">\n          <div className='form-input'>\n            <input type=\"text\" className=\"inputBox\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Enter Name\" />\n          </div>\n          <div className='form-input'>\n            <input type=\"text\" className=\"inputBox\" value={username} onChange={(e) => setUser(e.target.value)} placeholder=\"Enter Username\" />\n          </div>\n          <div className='form-input'>\n            <input type=\"text\" className=\"inputBox\" value={gender} onChange={(e) => setGender(e.target.value)} placeholder=\"Enter Gender\" />\n          </div>\n          <div className='form-input'>\n            <input type=\"email\" className=\"inputBox\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Enter Email\" required />\n          </div>\n          <div className='form-input'>\n            <input type=\"file\" onChange={handleImageChange} accept=\"image/*\" placeholder='Upload Profile Image' />\n          </div>\n          <div className='form-input'>\n            <input type=\"password\" className=\"inputBox\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Enter Password\" required />\n          </div>\n          <button type=\"submit\" className=\"Sign-up-btn btn\">Sign Up</button>\n          <Link to=\"/login\">Login</Link>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default SignUp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}