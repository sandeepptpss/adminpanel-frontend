{"ast":null,"code":"var Quill, Toolbar, dom, _;\nQuill = require('../quill');\n_ = Quill.require('lodash');\ndom = Quill.require('dom');\nToolbar = function () {\n  Toolbar.DEFAULTS = {\n    container: null\n  };\n  Toolbar.formats = {\n    LINE: {\n      'align': 'align',\n      'bullet': 'bullet',\n      'list': 'list'\n    },\n    SELECT: {\n      'align': 'align',\n      'background': 'background',\n      'color': 'color',\n      'font': 'font',\n      'size': 'size'\n    },\n    TOGGLE: {\n      'bold': 'bold',\n      'bullet': 'bullet',\n      'image': 'image',\n      'italic': 'italic',\n      'link': 'link',\n      'list': 'list',\n      'strike': 'strike',\n      'underline': 'underline'\n    },\n    TOOLTIP: {\n      'image': 'image',\n      'link': 'link'\n    }\n  };\n  function Toolbar(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    if (this.options.container == null) {\n      throw new Error('container required for toolbar', this.options);\n    }\n    this.container = _.isString(this.options.container) ? document.querySelector(this.options.container) : this.options.container;\n    this.inputs = {};\n    this.preventUpdate = false;\n    this.triggering = false;\n    _.each(this.quill.options.formats, function (_this) {\n      return function (format) {\n        if (Toolbar.formats.TOOLTIP[format] != null) {\n          return;\n        }\n        return _this.initFormat(format, function (range, value) {\n          if (_this.triggering) {\n            return;\n          }\n          if (range.isCollapsed()) {\n            _this.quill.prepareFormat(format, value);\n          } else if (Toolbar.formats.LINE[format] != null) {\n            _this.quill.formatLine(range, format, value, 'user');\n          } else {\n            _this.quill.formatText(range, format, value, 'user');\n          }\n          return _.defer(function () {\n            _this.updateActive(range, ['bullet', 'list']);\n            return _this.setActive(format, value);\n          });\n        });\n      };\n    }(this));\n    this.quill.on(this.quill.constructor.events.SELECTION_CHANGE, function (_this) {\n      return function (range) {\n        if (range != null) {\n          return _this.updateActive(range);\n        }\n      };\n    }(this));\n    this.quill.onModuleLoad('keyboard', function (_this) {\n      return function (keyboard) {\n        return keyboard.addHotkey([dom.KEYS.BACKSPACE, dom.KEYS.DELETE, dom.KEYS.ENTER], function () {\n          return _.defer(_.bind(_this.updateActive, _this));\n        });\n      };\n    }(this));\n    dom(this.container).addClass('ql-toolbar-container');\n    if (dom.isIOS()) {\n      dom(this.container).addClass('ios');\n    }\n    if (dom.isIE(11)) {\n      dom(this.container).on('mousedown', function (_this) {\n        return function () {\n          return false;\n        };\n      }(this));\n    }\n  }\n  Toolbar.prototype.initFormat = function (format, callback) {\n    var eventName, input, selector;\n    selector = \".ql-\" + format;\n    if (Toolbar.formats.SELECT[format] != null) {\n      selector = \"select\" + selector;\n      eventName = 'change';\n    } else {\n      eventName = 'click';\n    }\n    input = this.container.querySelector(selector);\n    if (input == null) {\n      return;\n    }\n    this.inputs[format] = input;\n    return dom(input).on(eventName, function (_this) {\n      return function () {\n        var range, value;\n        value = eventName === 'change' ? dom(input).value() : !dom(input).hasClass('ql-active');\n        _this.preventUpdate = true;\n        _this.quill.focus();\n        range = _this.quill.getSelection();\n        if (range != null) {\n          callback(range, value);\n        }\n        _this.preventUpdate = false;\n        return true;\n      };\n    }(this));\n  };\n  Toolbar.prototype.setActive = function (format, value) {\n    var $input, input, selectValue, _ref;\n    input = this.inputs[format];\n    if (input == null) {\n      return;\n    }\n    $input = dom(input);\n    if (input.tagName === 'SELECT') {\n      this.triggering = true;\n      selectValue = $input.value(input);\n      if (value == null) {\n        value = (_ref = $input[\"default\"]()) != null ? _ref.value : void 0;\n      }\n      if (_.isArray(value)) {\n        value = '';\n      }\n      if (value !== selectValue) {\n        if (value != null) {\n          $input.option(value, false);\n        } else {\n          $input.reset(false);\n        }\n      }\n      return this.triggering = false;\n    } else {\n      return $input.toggleClass('ql-active', value || false);\n    }\n  };\n  Toolbar.prototype.updateActive = function (range, formats) {\n    var activeFormats;\n    if (formats == null) {\n      formats = null;\n    }\n    range || (range = this.quill.getSelection());\n    if (!(range != null && !this.preventUpdate)) {\n      return;\n    }\n    activeFormats = this._getActive(range);\n    return _.each(this.inputs, function (_this) {\n      return function (input, format) {\n        if (!_.isArray(formats) || formats.indexOf(format) > -1) {\n          _this.setActive(format, activeFormats[format]);\n        }\n        return true;\n      };\n    }(this));\n  };\n  Toolbar.prototype._getActive = function (range) {\n    var leafFormats, lineFormats;\n    leafFormats = this._getLeafActive(range);\n    lineFormats = this._getLineActive(range);\n    return _.defaults({}, leafFormats, lineFormats);\n  };\n  Toolbar.prototype._getLeafActive = function (range) {\n    var contents, formatsArr, line, offset, _ref;\n    if (range.isCollapsed()) {\n      _ref = this.quill.editor.doc.findLineAt(range.start), line = _ref[0], offset = _ref[1];\n      if (offset === 0) {\n        contents = this.quill.getContents(range.start, range.end + 1);\n      } else {\n        contents = this.quill.getContents(range.start - 1, range.end);\n      }\n    } else {\n      contents = this.quill.getContents(range);\n    }\n    formatsArr = _.map(contents.ops, 'attributes');\n    return this._intersectFormats(formatsArr);\n  };\n  Toolbar.prototype._getLineActive = function (range) {\n    var firstLine, formatsArr, lastLine, offset, _ref, _ref1;\n    formatsArr = [];\n    _ref = this.quill.editor.doc.findLineAt(range.start), firstLine = _ref[0], offset = _ref[1];\n    _ref1 = this.quill.editor.doc.findLineAt(range.end), lastLine = _ref1[0], offset = _ref1[1];\n    if (lastLine != null && lastLine === firstLine) {\n      lastLine = lastLine.next;\n    }\n    while (firstLine != null && firstLine !== lastLine) {\n      formatsArr.push(_.clone(firstLine.formats));\n      firstLine = firstLine.next;\n    }\n    return this._intersectFormats(formatsArr);\n  };\n  Toolbar.prototype._intersectFormats = function (formatsArr) {\n    return _.reduce(formatsArr.slice(1), function (activeFormats, formats) {\n      var activeKeys, added, formatKeys, intersection, missing;\n      activeKeys = _.keys(activeFormats);\n      formatKeys = _.keys(formats);\n      intersection = _.intersection(activeKeys, formatKeys);\n      missing = _.difference(activeKeys, formatKeys);\n      added = _.difference(formatKeys, activeKeys);\n      _.each(intersection, function (name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          if (_.isArray(activeFormats[name])) {\n            if (_.indexOf(activeFormats[name], formats[name]) < 0) {\n              return activeFormats[name].push(formats[name]);\n            }\n          } else if (activeFormats[name] !== formats[name]) {\n            return activeFormats[name] = [activeFormats[name], formats[name]];\n          }\n        }\n      });\n      _.each(missing, function (name) {\n        if (Toolbar.formats.TOGGLE[name] != null) {\n          return delete activeFormats[name];\n        } else if (Toolbar.formats.SELECT[name] != null && !_.isArray(activeFormats[name])) {\n          return activeFormats[name] = [activeFormats[name]];\n        }\n      });\n      _.each(added, function (name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          return activeFormats[name] = [formats[name]];\n        }\n      });\n      return activeFormats;\n    }, formatsArr[0] || {});\n  };\n  return Toolbar;\n}();\nQuill.registerModule('toolbar', Toolbar);\nmodule.exports = Toolbar;","map":{"version":3,"names":["Quill","Toolbar","dom","_","require","DEFAULTS","container","formats","LINE","SELECT","TOGGLE","TOOLTIP","quill","options","Error","isString","document","querySelector","inputs","preventUpdate","triggering","each","_this","format","initFormat","range","value","isCollapsed","prepareFormat","formatLine","formatText","defer","updateActive","setActive","on","constructor","events","SELECTION_CHANGE","onModuleLoad","keyboard","addHotkey","KEYS","BACKSPACE","DELETE","ENTER","bind","addClass","isIOS","isIE","prototype","callback","eventName","input","selector","hasClass","focus","getSelection","$input","selectValue","_ref","tagName","isArray","option","reset","toggleClass","activeFormats","_getActive","indexOf","leafFormats","lineFormats","_getLeafActive","_getLineActive","defaults","contents","formatsArr","line","offset","editor","doc","findLineAt","start","getContents","end","map","ops","_intersectFormats","firstLine","lastLine","_ref1","next","push","clone","reduce","slice","activeKeys","added","formatKeys","intersection","missing","keys","difference","name","registerModule","module","exports"],"sources":["/home/tpss/public_html/Mernstack/authtask/frontend/node_modules/quilljs/lib/modules/toolbar.js"],"sourcesContent":["var Quill, Toolbar, dom, _;\n\nQuill = require('../quill');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nToolbar = (function() {\n  Toolbar.DEFAULTS = {\n    container: null\n  };\n\n  Toolbar.formats = {\n    LINE: {\n      'align': 'align',\n      'bullet': 'bullet',\n      'list': 'list'\n    },\n    SELECT: {\n      'align': 'align',\n      'background': 'background',\n      'color': 'color',\n      'font': 'font',\n      'size': 'size'\n    },\n    TOGGLE: {\n      'bold': 'bold',\n      'bullet': 'bullet',\n      'image': 'image',\n      'italic': 'italic',\n      'link': 'link',\n      'list': 'list',\n      'strike': 'strike',\n      'underline': 'underline'\n    },\n    TOOLTIP: {\n      'image': 'image',\n      'link': 'link'\n    }\n  };\n\n  function Toolbar(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    if (this.options.container == null) {\n      throw new Error('container required for toolbar', this.options);\n    }\n    this.container = _.isString(this.options.container) ? document.querySelector(this.options.container) : this.options.container;\n    this.inputs = {};\n    this.preventUpdate = false;\n    this.triggering = false;\n    _.each(this.quill.options.formats, (function(_this) {\n      return function(format) {\n        if (Toolbar.formats.TOOLTIP[format] != null) {\n          return;\n        }\n        return _this.initFormat(format, function(range, value) {\n          if (_this.triggering) {\n            return;\n          }\n          if (range.isCollapsed()) {\n            _this.quill.prepareFormat(format, value);\n          } else if (Toolbar.formats.LINE[format] != null) {\n            _this.quill.formatLine(range, format, value, 'user');\n          } else {\n            _this.quill.formatText(range, format, value, 'user');\n          }\n          return _.defer(function() {\n            _this.updateActive(range, ['bullet', 'list']);\n            return _this.setActive(format, value);\n          });\n        });\n      };\n    })(this));\n    this.quill.on(this.quill.constructor.events.SELECTION_CHANGE, (function(_this) {\n      return function(range) {\n        if (range != null) {\n          return _this.updateActive(range);\n        }\n      };\n    })(this));\n    this.quill.onModuleLoad('keyboard', (function(_this) {\n      return function(keyboard) {\n        return keyboard.addHotkey([dom.KEYS.BACKSPACE, dom.KEYS.DELETE, dom.KEYS.ENTER], function() {\n          return _.defer(_.bind(_this.updateActive, _this));\n        });\n      };\n    })(this));\n    dom(this.container).addClass('ql-toolbar-container');\n    if (dom.isIOS()) {\n      dom(this.container).addClass('ios');\n    }\n    if (dom.isIE(11)) {\n      dom(this.container).on('mousedown', (function(_this) {\n        return function() {\n          return false;\n        };\n      })(this));\n    }\n  }\n\n  Toolbar.prototype.initFormat = function(format, callback) {\n    var eventName, input, selector;\n    selector = \".ql-\" + format;\n    if (Toolbar.formats.SELECT[format] != null) {\n      selector = \"select\" + selector;\n      eventName = 'change';\n    } else {\n      eventName = 'click';\n    }\n    input = this.container.querySelector(selector);\n    if (input == null) {\n      return;\n    }\n    this.inputs[format] = input;\n    return dom(input).on(eventName, (function(_this) {\n      return function() {\n        var range, value;\n        value = eventName === 'change' ? dom(input).value() : !dom(input).hasClass('ql-active');\n        _this.preventUpdate = true;\n        _this.quill.focus();\n        range = _this.quill.getSelection();\n        if (range != null) {\n          callback(range, value);\n        }\n        _this.preventUpdate = false;\n        return true;\n      };\n    })(this));\n  };\n\n  Toolbar.prototype.setActive = function(format, value) {\n    var $input, input, selectValue, _ref;\n    input = this.inputs[format];\n    if (input == null) {\n      return;\n    }\n    $input = dom(input);\n    if (input.tagName === 'SELECT') {\n      this.triggering = true;\n      selectValue = $input.value(input);\n      if (value == null) {\n        value = (_ref = $input[\"default\"]()) != null ? _ref.value : void 0;\n      }\n      if (_.isArray(value)) {\n        value = '';\n      }\n      if (value !== selectValue) {\n        if (value != null) {\n          $input.option(value, false);\n        } else {\n          $input.reset(false);\n        }\n      }\n      return this.triggering = false;\n    } else {\n      return $input.toggleClass('ql-active', value || false);\n    }\n  };\n\n  Toolbar.prototype.updateActive = function(range, formats) {\n    var activeFormats;\n    if (formats == null) {\n      formats = null;\n    }\n    range || (range = this.quill.getSelection());\n    if (!((range != null) && !this.preventUpdate)) {\n      return;\n    }\n    activeFormats = this._getActive(range);\n    return _.each(this.inputs, (function(_this) {\n      return function(input, format) {\n        if (!_.isArray(formats) || formats.indexOf(format) > -1) {\n          _this.setActive(format, activeFormats[format]);\n        }\n        return true;\n      };\n    })(this));\n  };\n\n  Toolbar.prototype._getActive = function(range) {\n    var leafFormats, lineFormats;\n    leafFormats = this._getLeafActive(range);\n    lineFormats = this._getLineActive(range);\n    return _.defaults({}, leafFormats, lineFormats);\n  };\n\n  Toolbar.prototype._getLeafActive = function(range) {\n    var contents, formatsArr, line, offset, _ref;\n    if (range.isCollapsed()) {\n      _ref = this.quill.editor.doc.findLineAt(range.start), line = _ref[0], offset = _ref[1];\n      if (offset === 0) {\n        contents = this.quill.getContents(range.start, range.end + 1);\n      } else {\n        contents = this.quill.getContents(range.start - 1, range.end);\n      }\n    } else {\n      contents = this.quill.getContents(range);\n    }\n    formatsArr = _.map(contents.ops, 'attributes');\n    return this._intersectFormats(formatsArr);\n  };\n\n  Toolbar.prototype._getLineActive = function(range) {\n    var firstLine, formatsArr, lastLine, offset, _ref, _ref1;\n    formatsArr = [];\n    _ref = this.quill.editor.doc.findLineAt(range.start), firstLine = _ref[0], offset = _ref[1];\n    _ref1 = this.quill.editor.doc.findLineAt(range.end), lastLine = _ref1[0], offset = _ref1[1];\n    if ((lastLine != null) && lastLine === firstLine) {\n      lastLine = lastLine.next;\n    }\n    while ((firstLine != null) && firstLine !== lastLine) {\n      formatsArr.push(_.clone(firstLine.formats));\n      firstLine = firstLine.next;\n    }\n    return this._intersectFormats(formatsArr);\n  };\n\n  Toolbar.prototype._intersectFormats = function(formatsArr) {\n    return _.reduce(formatsArr.slice(1), function(activeFormats, formats) {\n      var activeKeys, added, formatKeys, intersection, missing;\n      activeKeys = _.keys(activeFormats);\n      formatKeys = _.keys(formats);\n      intersection = _.intersection(activeKeys, formatKeys);\n      missing = _.difference(activeKeys, formatKeys);\n      added = _.difference(formatKeys, activeKeys);\n      _.each(intersection, function(name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          if (_.isArray(activeFormats[name])) {\n            if (_.indexOf(activeFormats[name], formats[name]) < 0) {\n              return activeFormats[name].push(formats[name]);\n            }\n          } else if (activeFormats[name] !== formats[name]) {\n            return activeFormats[name] = [activeFormats[name], formats[name]];\n          }\n        }\n      });\n      _.each(missing, function(name) {\n        if (Toolbar.formats.TOGGLE[name] != null) {\n          return delete activeFormats[name];\n        } else if ((Toolbar.formats.SELECT[name] != null) && !_.isArray(activeFormats[name])) {\n          return activeFormats[name] = [activeFormats[name]];\n        }\n      });\n      _.each(added, function(name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          return activeFormats[name] = [formats[name]];\n        }\n      });\n      return activeFormats;\n    }, formatsArr[0] || {});\n  };\n\n  return Toolbar;\n\n})();\n\nQuill.registerModule('toolbar', Toolbar);\n\nmodule.exports = Toolbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}